<html>
    <head>
        <title>Information vault</title>
        <h3>Information vault</h3>
    </head>
    <body>
        <script>
            var index = [
                { "link" : "simple flask app.html" , "description" : "simple flask app"},
                { "link" : "flask cli.html" , "description" : "flask CLI"},
                { "link" : "flask dynamic routing.html" , "description" : "flask dynamic routing"},
                { "link" : "4" , "description" : "4"},
                { "link" : "5" , "description" : "5"},
                { "link" : "" , "description" : "6"},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
                { "link" : "" , "description" : ""},
            ]

            var listed = []

            function list() {

                document.getElementById("resultContainer").innerHTML =""

                let searchText = document.getElementById("searchText").value
                listed = []

                for (let i=0;i<index.length;i++) {
                    if (index[i].description.indexOf(searchText) > -1) {
                        listed.push(index[i])
                        document.getElementById("resultContainer").innerHTML += `
                            <div class="result-strip" onClick="openPage('${index[i].link}')">
                                ${index[i].description}
                            </div>
                        `
                    }
                }

                

                if (document.getElementById("resultForm").style.display == "block") {
                    document.getElementById("resultForm").style.display = "none"
                } else (
                    document.getElementById("resultForm").style.display = "block"
                )
                
            }

            function openPage(link) {
                document.getElementById("mainFrame").src = 'entries/' + link
                cancelForm()
            }


            function cancelForm() {
                document.getElementById("resultForm").style.display = "none"
            }

        </script>

        <div class="search-form">
            <label>Search</label>
            <input type="text" id="searchText" onkeydown="list()" />
            <button onClick="list()">List</button>
        </div>

        <iframe id="mainFrame">

        </iframe>

        <div class="result-form" id="resultForm" >
            <div class="cancel-button" onClick="cancelForm()">X</div>
            <div class="result-container" id="resultContainer"></div>
        </div>

        <style>
            .result-container {
                margin : 6px;
            }
            #mainFrame {
                border : 1px black solid;
                width : 100%;
                height : 80vh;
                margin : auto;
            }
            .search-form {
                margin :15px;
            }
            .search-form input[type=text] {
                height : 38px;
                width : 250px;
                border-radius : 4px;
                padding : 4px;
            }
            .search-form button {
                height : 30px;
                width : 59px;
                border-radius: 4px;
                margin : 4px;
            
            }
            .result-form {
                position : absolute;
                z-index : 999;
                text-align: center;
                margin : auto;
                display : none;
                border : 1px solid black;
                top : 25vh;
                left : 35vw;
                width : 550px;
                min-height : 200px;
                border-radius: 4px;
            }
            .cancel-button {
                width : 25px;
                height : 25px;
                margin : 8px;
                line-height : 25px;
                border: 1px black solid;
                border-radius: 4px;
                cursor : pointer;
            }
            .result-strip {
                cursor : pointer;
                padding : 4px;
                margin : 2px;
                border : 1px solid black;
            }
        </style>

    </body>
</html>